export enum CHORD_LETTER {
  C = "C",
  Db = "Db",
  D = "D",
  Eb = "Eb",
  E = "E",
  F = "F",
  Fs = "F#",
  G = "G",
  Ab = "Ab",
  A = "A",
  Bb = "Bb",
  B = "B",
}

export enum CHORD_QUALITY {
  MAJOR = "MAJOR",
  MINOR = "MINOR",
  // Future: MINOR, DIMINISHED, AUGMENTED, etc.
}

export enum CHORD_TYPE {
  C_MAJOR = "C MAJOR",
  C_MINOR = "C MINOR",
  D_FLAT_MAJOR = "Db MAJOR",
  D_FLAT_MINOR = "Db MINOR",
  D_MAJOR = "D MAJOR",
  D_MINOR = "D MINOR",
  E_FLAT_MAJOR = "Eb MAJOR",
  E_FLAT_MINOR = "Eb MINOR",
  E_MAJOR = "E MAJOR",
  E_MINOR = "E MINOR",
  F_MAJOR = "F MAJOR",
  F_MINOR = "F MINOR",
  F_SHARP_MAJOR = "F# MAJOR",
  F_SHARP_MINOR = "F# MINOR",
  G_MAJOR = "G MAJOR",
  G_MINOR = "G MINOR",
  A_FLAT_MAJOR = "Ab MAJOR",
  A_FLAT_MINOR = "Ab MINOR",
  A_MINOR = "A MINOR",
  A_MAJOR = "A MAJOR",
  B_FLAT_MAJOR = "Bb MAJOR",
  B_FLAT_MINOR = "Bb MINOR",
  B_MINOR = "B MINOR",
  B_MAJOR = "B MAJOR",
}

export const CHORD_LETTER_TO_TYPE: Record<CHORD_QUALITY, Record<CHORD_LETTER, CHORD_TYPE>> = {
  [CHORD_QUALITY.MAJOR]: {
    [CHORD_LETTER.C]: CHORD_TYPE.C_MAJOR,
    [CHORD_LETTER.Db]: CHORD_TYPE.D_FLAT_MAJOR,
    [CHORD_LETTER.D]: CHORD_TYPE.D_MAJOR,
    [CHORD_LETTER.Eb]: CHORD_TYPE.E_FLAT_MAJOR,
    [CHORD_LETTER.E]: CHORD_TYPE.E_MAJOR,
    [CHORD_LETTER.F]: CHORD_TYPE.F_MAJOR,
    [CHORD_LETTER.Fs]: CHORD_TYPE.F_SHARP_MAJOR,
    [CHORD_LETTER.G]: CHORD_TYPE.G_MAJOR,
    [CHORD_LETTER.Ab]: CHORD_TYPE.A_FLAT_MAJOR,
    [CHORD_LETTER.A]: CHORD_TYPE.A_MAJOR,
    [CHORD_LETTER.Bb]: CHORD_TYPE.B_FLAT_MAJOR,
    [CHORD_LETTER.B]: CHORD_TYPE.B_MAJOR,
  },
  [CHORD_QUALITY.MINOR]: { 
    [CHORD_LETTER.C]: CHORD_TYPE.C_MINOR,
    [CHORD_LETTER.Db]: CHORD_TYPE.D_FLAT_MINOR,
    [CHORD_LETTER.D]: CHORD_TYPE.D_MINOR,
    [CHORD_LETTER.Eb]: CHORD_TYPE.E_FLAT_MINOR,
    [CHORD_LETTER.E]: CHORD_TYPE.E_MINOR,
    [CHORD_LETTER.F]: CHORD_TYPE.F_MINOR,
    [CHORD_LETTER.Fs]: CHORD_TYPE.F_SHARP_MINOR,
    [CHORD_LETTER.G]: CHORD_TYPE.G_MINOR,
    [CHORD_LETTER.Ab]: CHORD_TYPE.A_FLAT_MINOR,
    [CHORD_LETTER.A]: CHORD_TYPE.A_MINOR,
    [CHORD_LETTER.Bb]: CHORD_TYPE.B_FLAT_MINOR,
    [CHORD_LETTER.B]: CHORD_TYPE.B_MINOR,
   },
  // [CHORD_QUALITY.DIMINISHED]: { ... },
};

export function getChordType(
  letter: CHORD_LETTER,
  quality: CHORD_QUALITY = CHORD_QUALITY.MAJOR
): CHORD_TYPE {
  return CHORD_LETTER_TO_TYPE[quality][letter];
}

export const FREQS: Record<string, number> = {
  // Octave 2
  C2: 65.41,
  Cs2: 69.30,
  D2: 73.42,
  Ds2: 77.78,
  E2: 82.41,
  F2: 87.31,
  Fs2: 92.50,
  G2: 98.00,
  Gs2: 103.83,
  A2: 110.00,
  As2: 116.54,
  B2: 123.47,
  // Octave 3
  C3: 130.81,
  Cs3: 138.59,
  D3: 146.83,
  Ds3: 155.56,
  E3: 164.81,
  F3: 174.61,
  Fs3: 185.00,
  G3: 196.00,
  Gs3: 207.65,
  A3: 220.00,
  As3: 233.08,
  B3: 246.94,
  // Octave 4
  C4: 261.63,
  Cs4: 277.18,
  D4: 293.66,
  Ds4: 311.13,
  E4: 329.63,
  F4: 349.23,
  Fs4: 369.99,
  G4: 392.0,
  Gs4: 415.30,
  A4: 440.0,
  As4: 466.16,
  B4: 493.88,
  // Octave 5
  C5: 523.25,
  Cs5: 554.37,
  D5: 587.33,
  Ds5: 622.25,
  E5: 659.26,
  F5: 698.46,
  Fs5: 739.99,
  G5: 783.99,
  Gs5: 830.61,
  A5: 880.0,
  As5: 932.33,
  B5: 987.77,
  // Octave 6
  C6: 1046.50,
  Cs6: 1108.73,
  D6: 1174.66,
  Ds6: 1244.51,
  E6: 1318.51,
  F6: 1396.91,
  Fs6: 1479.98,
  G6: 1567.98,
  Gs6: 1661.22,
  A6: 1760.00,
  As6: 1864.66,
  B6: 1975.53,
  // Octave 7
  C7: 2093.00,
  Cs7: 2217.46,
  D7: 2349.32,
  Ds7: 2489.02,
  E7: 2637.02,
  F7: 2793.83,
  Fs7: 2959.96,
  G7: 3135.96,
  Gs7: 3322.44,
  A7: 3520.00,
  As7: 3729.31,
  B7: 3951.07,
};

export const CHORDS = {
  [CHORD_TYPE.C_MAJOR]:      [FREQS.C4, FREQS.E4, FREQS.G4],
  [CHORD_TYPE.C_MINOR]:      [FREQS.C4, FREQS.Ds4, FREQS.G4],
  [CHORD_TYPE.D_FLAT_MAJOR]: [FREQS.Cs4, FREQS.F4, FREQS.Gs4],
  [CHORD_TYPE.D_FLAT_MINOR]: [FREQS.Cs4, FREQS.E4, FREQS.Gs4],
  [CHORD_TYPE.D_MAJOR]:      [FREQS.D4, FREQS.Fs4, FREQS.A4],
  [CHORD_TYPE.D_MINOR]:      [FREQS.D4, FREQS.F4, FREQS.A4],
  [CHORD_TYPE.E_FLAT_MAJOR]: [FREQS.Ds4, FREQS.G4, FREQS.As4],
  [CHORD_TYPE.E_FLAT_MINOR]: [FREQS.Ds4, FREQS.Fs4, FREQS.As4],
  [CHORD_TYPE.E_MAJOR]:      [FREQS.E4, FREQS.Gs4, FREQS.B4],
  [CHORD_TYPE.E_MINOR]:      [FREQS.E4, FREQS.G4, FREQS.B4],
  [CHORD_TYPE.F_MAJOR]:      [FREQS.F4, FREQS.A4, FREQS.C4],
  [CHORD_TYPE.F_MINOR]:      [FREQS.F4, FREQS.Gs4, FREQS.C4],
  [CHORD_TYPE.F_SHARP_MAJOR]: [FREQS.Fs4, FREQS.As4, FREQS.Cs4],
  [CHORD_TYPE.F_SHARP_MINOR]: [FREQS.Fs4, FREQS.A4, FREQS.Cs4],
  [CHORD_TYPE.G_MAJOR]:      [FREQS.G4, FREQS.B4, FREQS.D4],
  [CHORD_TYPE.G_MINOR]:      [FREQS.G4, FREQS.As4, FREQS.D4],
  [CHORD_TYPE.A_FLAT_MAJOR]: [FREQS.Gs4, FREQS.C5, FREQS.Ds4],
  [CHORD_TYPE.A_FLAT_MINOR]: [FREQS.Gs4, FREQS.B4, FREQS.Ds4],
  [CHORD_TYPE.A_MAJOR]:      [FREQS.A4, FREQS.Cs4, FREQS.E4],
  [CHORD_TYPE.A_MINOR]:      [FREQS.A4, FREQS.C4, FREQS.E4],
  [CHORD_TYPE.B_FLAT_MAJOR]: [FREQS.As4, FREQS.D4, FREQS.F4],
  [CHORD_TYPE.B_FLAT_MINOR]: [FREQS.As4, FREQS.Cs4, FREQS.F4],
  [CHORD_TYPE.B_MAJOR]:      [FREQS.B4, FREQS.Ds4, FREQS.Fs4],
  [CHORD_TYPE.B_MINOR]:      [FREQS.B4, FREQS.D4, FREQS.Fs4],
};

export const ARPEGGIOS: Record<CHORD_TYPE, number[]> = {
  [CHORD_TYPE.C_MAJOR]: [FREQS.C3, FREQS.E3, FREQS.G3, FREQS.C4, FREQS.E4, FREQS.G4, FREQS.C5, FREQS.E5, FREQS.G5, FREQS.C6, FREQS.E6, FREQS.G6],
  [CHORD_TYPE.C_MINOR]: [FREQS.C3, FREQS.Ds3, FREQS.G3, FREQS.C4, FREQS.Ds4, FREQS.G4, FREQS.C5, FREQS.Ds5, FREQS.G5, FREQS.C6, FREQS.Ds6, FREQS.G6],
  [CHORD_TYPE.D_FLAT_MAJOR]: [FREQS.Cs3, FREQS.F3, FREQS.Gs3, FREQS.Cs4, FREQS.F4, FREQS.Gs4, FREQS.Cs5, FREQS.F5, FREQS.Gs5, FREQS.Cs6, FREQS.F6, FREQS.Gs6],
  [CHORD_TYPE.D_FLAT_MINOR]: [FREQS.Cs3, FREQS.E3, FREQS.Gs3, FREQS.Cs4, FREQS.E4, FREQS.Gs4, FREQS.Cs5, FREQS.E5, FREQS.Gs5, FREQS.Cs6, FREQS.E6, FREQS.Gs6],
  [CHORD_TYPE.D_MAJOR]: [FREQS.D3, FREQS.Fs3, FREQS.A3, FREQS.D4, FREQS.Fs4, FREQS.A4, FREQS.D5, FREQS.Fs5, FREQS.A5, FREQS.D6, FREQS.Fs6, FREQS.A6],
  [CHORD_TYPE.D_MINOR]: [FREQS.D3, FREQS.F3, FREQS.A3, FREQS.D4, FREQS.F4, FREQS.A4, FREQS.D5, FREQS.F5, FREQS.A5, FREQS.D6, FREQS.F6, FREQS.A6],
  [CHORD_TYPE.E_FLAT_MAJOR]: [FREQS.Ds3, FREQS.G3, FREQS.As3, FREQS.Ds4, FREQS.G4, FREQS.As4, FREQS.Ds5, FREQS.G5, FREQS.As5, FREQS.Ds6, FREQS.G6, FREQS.As6],
  [CHORD_TYPE.E_FLAT_MINOR]: [FREQS.Ds3, FREQS.Fs3, FREQS.As3, FREQS.Ds4, FREQS.Fs4, FREQS.As4, FREQS.Ds5, FREQS.Fs5, FREQS.As5, FREQS.Ds6, FREQS.Fs6, FREQS.As6],
  [CHORD_TYPE.E_MAJOR]: [FREQS.E3, FREQS.Gs3, FREQS.B3, FREQS.E4, FREQS.Gs4, FREQS.B4, FREQS.E5, FREQS.Gs5, FREQS.B5, FREQS.E6, FREQS.Gs6, FREQS.B6],
  [CHORD_TYPE.E_MINOR]: [FREQS.E3, FREQS.G3, FREQS.B3, FREQS.E4, FREQS.G4, FREQS.B4, FREQS.E5, FREQS.G5, FREQS.B5, FREQS.E6, FREQS.G6, FREQS.B6],
  [CHORD_TYPE.F_MAJOR]: [FREQS.F3, FREQS.A3, FREQS.C4, FREQS.F4, FREQS.A4, FREQS.C5, FREQS.F5, FREQS.A5, FREQS.C6, FREQS.F6, FREQS.A6, FREQS.C7],
  [CHORD_TYPE.F_MINOR]: [FREQS.F3, FREQS.Gs3, FREQS.C4, FREQS.F4, FREQS.Gs4, FREQS.C5, FREQS.F5, FREQS.Gs5, FREQS.C6, FREQS.F6, FREQS.Gs6, FREQS.C7],
  [CHORD_TYPE.F_SHARP_MAJOR]: [FREQS.Fs3, FREQS.As3, FREQS.Cs4, FREQS.Fs4, FREQS.As4, FREQS.Cs5, FREQS.Fs5, FREQS.As5, FREQS.Cs6, FREQS.Fs6, FREQS.As6, FREQS.Cs7],
  [CHORD_TYPE.F_SHARP_MINOR]: [FREQS.Fs3, FREQS.A3, FREQS.Cs4, FREQS.Fs4, FREQS.A4, FREQS.Cs5, FREQS.Fs5, FREQS.A5, FREQS.Cs6, FREQS.Fs6, FREQS.A6, FREQS.Cs7],
  [CHORD_TYPE.G_MAJOR]: [FREQS.G3, FREQS.B3, FREQS.D4, FREQS.G4, FREQS.B4, FREQS.D5, FREQS.G5, FREQS.B5, FREQS.D6, FREQS.G6, FREQS.B6, FREQS.D7],
  [CHORD_TYPE.G_MINOR]: [FREQS.G3, FREQS.As3, FREQS.D4, FREQS.G4, FREQS.As4, FREQS.D5, FREQS.G5, FREQS.As5, FREQS.D6, FREQS.G6, FREQS.As6, FREQS.D7],
  [CHORD_TYPE.A_FLAT_MAJOR]: [FREQS.Gs3, FREQS.C4, FREQS.Ds4, FREQS.Gs4, FREQS.C5, FREQS.Ds5, FREQS.Gs5, FREQS.C6, FREQS.Ds6, FREQS.Gs6, FREQS.C7, FREQS.Ds7],
  [CHORD_TYPE.A_FLAT_MINOR]: [FREQS.Gs3, FREQS.B3, FREQS.Ds4, FREQS.Gs4, FREQS.B4, FREQS.Ds5, FREQS.Gs5, FREQS.B5, FREQS.Ds6, FREQS.Gs6, FREQS.B6, FREQS.Ds7],
  [CHORD_TYPE.A_MAJOR]: [FREQS.A3, FREQS.Cs4, FREQS.E4, FREQS.A4, FREQS.Cs5, FREQS.E5, FREQS.A5, FREQS.Cs6, FREQS.E6, FREQS.A6, FREQS.Cs7, FREQS.E7],
  [CHORD_TYPE.A_MINOR]: [FREQS.A3, FREQS.C4, FREQS.E4, FREQS.A4, FREQS.C5, FREQS.E5, FREQS.A5, FREQS.C6, FREQS.E6, FREQS.A6, FREQS.C7, FREQS.E7],
  [CHORD_TYPE.B_FLAT_MAJOR]: [FREQS.As3, FREQS.D4, FREQS.F4, FREQS.As4, FREQS.D5, FREQS.F5, FREQS.As5, FREQS.D6, FREQS.F6, FREQS.As6, FREQS.D7, FREQS.F7],
  [CHORD_TYPE.B_FLAT_MINOR]: [FREQS.As3, FREQS.Cs4, FREQS.F4, FREQS.As4, FREQS.Cs5, FREQS.F5, FREQS.As5, FREQS.Cs6, FREQS.F6, FREQS.As6, FREQS.Cs7, FREQS.F7],
  [CHORD_TYPE.B_MAJOR]: [FREQS.B3, FREQS.Ds4, FREQS.Fs4, FREQS.B4, FREQS.Ds5, FREQS.Fs5, FREQS.B5, FREQS.Ds6, FREQS.Fs6, FREQS.B6, FREQS.Ds7, FREQS.Fs7],
  [CHORD_TYPE.B_MINOR]: [FREQS.B3, FREQS.D4, FREQS.Fs4, FREQS.B4, FREQS.D5, FREQS.Fs5, FREQS.B5, FREQS.D6, FREQS.Fs6, FREQS.B6, FREQS.D7, FREQS.Fs7],
};

export const CHORD_LETTER_ORDER = [
  CHORD_LETTER.Db, 
  CHORD_LETTER.Ab, 
  CHORD_LETTER.Eb, 
  CHORD_LETTER.Bb, 
  CHORD_LETTER.F, 
  CHORD_LETTER.C, 
  CHORD_LETTER.G, 
  CHORD_LETTER.D, 
  CHORD_LETTER.A, 
  CHORD_LETTER.E, 
  CHORD_LETTER.B, 
  CHORD_LETTER.Fs
];

export const CHORD_QUALITY_ORDER = [CHORD_QUALITY.MAJOR, CHORD_QUALITY.MINOR];

export const CHORD_QUALITY_LABELS = {
  [CHORD_QUALITY.MAJOR]: "Major",
  [CHORD_QUALITY.MINOR]: "Minor",
};